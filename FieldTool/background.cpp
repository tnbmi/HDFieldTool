//*****************************************************************************
//
// CBackgroundクラス [background.h]
// Author :MAI TANABE
//
//*****************************************************************************

//+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
// インクルードファイル
//+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
#include "background.h"

//+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
// マクロ
//+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++

//+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
// 静的変数
//+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++

//=============================================================================
// コンストラクタ
//=============================================================================
CBackground::CBackground(int priority, OBJTYPE objType) : CScene2D(priority, objType)
{
	m_next = nullptr;
	m_prev = nullptr;
}

//=============================================================================
// 生成
//=============================================================================
CBackground* CBackground::Create(LPDIRECT3DDEVICE9 device, BG_DATA data, int page)
{
	CBackground* pointer = new CBackground(1);

	pointer->Init(device, (CImport::TEXTURES)(CImport::FOREST_01 + data.type));
	pointer->SetPos((float)((data.index - page) * SCREEN_WIDTH), 0.0f);

	pointer->SetData(data);

	return pointer;
}

//=============================================================================
// 初期化
//=============================================================================
HRESULT CBackground::Init(LPDIRECT3DDEVICE9 device, CImport::TEXTURES texture)
{
	CScene2D::Init(device, texture, CScene2D::POINT_LEFTTOP);
	SetSize(SCREEN_WIDTH, SCREEN_HEIGHT);

	return S_OK;
}

//=============================================================================
// 終了
//=============================================================================
void CBackground::Uninit(void)
{
	CScene2D::Uninit();
}

//=============================================================================
// 更新
//=============================================================================
void CBackground::Update(void)
{
	CScene2D::Update();
}

//=============================================================================
// 描画
//=============================================================================
void CBackground::Draw(void)
{
	CScene2D::Draw();
}
